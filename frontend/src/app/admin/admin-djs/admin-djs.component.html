<div class="modular-card">
  <h1 class="card-title">Manage DJs</h1>

  <div class="card-content">
    <div *ngIf="djList; else loading">
      <table class="theme-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>User's Name</th>
            <th>DJ Name</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dj of djList">
            <td>{{ dj.id }}</td>
            <td>{{ dj.userName }}</td>
            <td>{{ dj.djName }}</td>
            <td>
              <button class="theme-button edit-btn">Edit</button>
              <button class="theme-button delete-btn">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>

      <span>
        <button [disabled]="page <= 0" (click)="goToPage(page - 1)">
          Previous Page
        </button>
        <span>Page {{ page + 1 }} of {{ totalPages ?? '?' }}</span>
        <button
          [disabled]="page + 1 >= (totalPages ?? 0)"
          (click)="goToPage(page + 1)"
        >
          Next Page
        </button>
      </span>
    </div>

    <ng-template #loading>
      <div class="loading">
        <p>Loading DJs...</p>
      </div>
    </ng-template>

    <div>
      <h2>Create New DJ</h2>

      <form [formGroup]="newDJForm" (ngSubmit)="createDJ($event)">
        <div>
          <label for="new-dj-user-id-input">User Id*: </label>
          <input
            class="form-field"
            id="new-dj-user-id-input"
            type="number"
            min="0"
            required
            formControlName="userId"
          />
        </div>

        <div>
          <label for="new-dj-name-input">DJ Name*: </label>
          <input
            class="form-field"
            id="new-dj-name-input"
            type="text"
            required
            formControlName="name"
          />
        </div>

        <div>
          <label for="new-dj-training-semester-input"
            >Training Semester Id*:
          </label>
          <input
            class="form-field"
            id="new-dj-training-semester-input"
            type="number"
            min="0"
            required
            formControlName="trainingSemesterId"
          />
        </div>

        <div>
          <label for="new-dj-trainer-input">Trainer Id: </label>
          <input
            class="form-field"
            id="new-dj-trainer-input"
            type="number"
            min="0"
            formControlName="trainerId"
          />
        </div>

        <div *ngIf="newDJErrorMessage">
          {{ newDJErrorMessage }}
        </div>

        <button type="submit">Create DJ</button>
      </form>
    </div>
  </div>
</div>
