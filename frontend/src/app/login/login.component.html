<div class="modular-card">
  <h1 class="card-title">{{ loggedInUser ? 'Welcome' : 'Login' }}</h1>
  <div class="card-content">
    
    <!-- Login Form - shown when not logged in -->
    <form class="login-form" *ngIf="!loggedInUser" (ngSubmit)="onLogin()">
      <div class="form-group">
        <label for="username">Username:</label>
        <input 
          type="text" 
          id="username" 
          name="username" 
          [(ngModel)]="username"
          required>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input 
          type="password" 
          id="password" 
          name="password" 
          [(ngModel)]="password"
          required>
      </div>
      <button type="submit" class="login-btn">Login</button>
      
      <div class="error-message" *ngIf="loginError">
        {{ loginError }}
      </div>
    </form>
    
    <!-- User Dashboard - shown when logged in -->
    <div class="user-dashboard" *ngIf="loggedInUser">
      <div class="welcome-message">
        <h3>Hello, {{ loggedInUser.username }}!</h3>
        <p class="user-role">Role: {{ loggedInUser.role | titlecase }}</p>
      </div>
      
      <!-- Admin Dashboard Button - only shown for admin users -->
      <div class="admin-actions" *ngIf="isAdmin()">
        <button class="admin-dashboard-btn" (click)="navigateToAdmin()">
          Go to Admin Dashboard
        </button>
      </div>
      
      <div class="user-actions">
        <button class="logout-btn" (click)="onLogout()">Logout</button>
      </div>
    </div>
    
    <!-- Registration info - shown when not logged in -->
    <div class="register" *ngIf="!loggedInUser">
      <h3>New DJ?</h3>
      <p>Contact the admin to get registered!</p>
    </div>
  </div>
</div>
